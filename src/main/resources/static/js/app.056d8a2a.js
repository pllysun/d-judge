(function(e){function t(t){for(var s,r,o=t[0],i=t[1],c=t[2],d=0,p=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(l,r)&&l[r]&&p.push(l[r][0]),l[r]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s]);u&&u(t);while(p.length)p.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],s=!0,o=1;o<a.length;o++){var i=a[o];0!==l[i]&&(s=!1)}s&&(n.splice(t--,1),e=r(r.s=a[0]))}return e}var s={},l={app:0},n=[];function r(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=s,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(a,s,function(t){return e[t]}.bind(null,s));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=i;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"1c0a":function(e,t,a){"use strict";a("d0ee")},2474:function(e,t,a){},"25e4":function(e,t,a){},2944:function(e,t,a){"use strict";a("2474")},"2bc7":function(e,t,a){"use strict";a("e802")},"2ca6":function(e,t,a){"use strict";a("d9ee")},"2eb5":function(e,t,a){"use strict";a("4644")},4619:function(e,t,a){"use strict";a("77b2")},4644:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var s=a("2b0e"),l=a("5c96"),n=a.n(l),r=(a("0fae"),function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("HelloWorld")],1)}),o=[],i=function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",{attrs:{id:"app"}},[t("el-container",[t("el-main",[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"},attrs:{slot:"header"},slot:"header"},[t("div",{staticStyle:{display:"flex",gap:"15px"}},[t("el-select",{on:{change:a.fetchSelect},model:{value:a.selectedServerId,callback:function(e){a.selectedServerId=e},expression:"selectedServerId"}},e._l(a.serverOptions,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.keyId}})})),1),t("el-dropdown",[t("el-button",{attrs:{type:"primary"}},[e._v(" 系统设置"),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{nativeOn:{click:function(t){return e.showAddServerDialog.apply(null,arguments)}}},[e._v("添加服务")]),t("el-dropdown-item",{nativeOn:{click:function(t){return e.showDeleteServerDialog.apply(null,arguments)}}},[e._v("删除服务")]),t("el-dropdown-item",{nativeOn:{click:function(t){return e.showAddEnvironmentDialog.apply(null,arguments)}}},[e._v("添加环境")])],1)],1)],1),t("h1",{staticStyle:{"text-align":"center",flex:"1"}},[e._v(" 代码沙盒服务器后台性能监测系统 ")]),t("div",{staticStyle:{display:"flex",gap:"8px"}},[t("el-button",{attrs:{type:"primary",icon:"el-icon-video-play",disabled:a.isStartButtonDisabled},on:{click:a.handleStartClick}},[e._v("启动 ")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-video-pause",disabled:a.isStopButtonDisabled},on:{click:a.handleStopClick}},[e._v("停止 ")])],1)]),a.dataLoaded?t("el-row",{ref:"contentRow",staticClass:"content-container"},[t("el-col",{staticClass:"info-column",staticStyle:{width:"100%"},attrs:{span:8}},[t(a.systemInfo,{ref:"infoCard"})],1),t("el-col",{staticStyle:{width:"100%"},attrs:{span:16}},[t("el-row",[a.dataLoaded?t("el-col",{attrs:{span:12}},[t(a.Cpu)],1):e._e(),t("el-col",{attrs:{span:12}},[t(a.Memory)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t(a.Disk)],1),t("el-col",{attrs:{span:12}},[t(a.Net)],1)],1)],1)],1):t("el-empty",{attrs:{"image-size":200,description:"请点击系统设置添加服务器"}})],1)],1)],1),t("el-dialog",{attrs:{title:"添加服务器",visible:e.isAddServerDialogVisible},on:{"update:visible":function(t){e.isAddServerDialogVisible=t}}},[t("el-form",{attrs:{"label-position":"top"}},[t("el-row",{attrs:{gutter:20,type:"flex",justify:"center"}},[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"IP 地址"}},[t("div",{staticClass:"ip-input-group"},e._l(4,(function(a){return t("el-input",{key:a,ref:"ipInputs",refInFor:!0,staticClass:"ip-input",attrs:{maxlength:"3"},on:{input:function(t){return e.handleIPInput(a-1)}},nativeOn:{paste:function(t){return e.handlePaste.apply(null,arguments)},keydown:function(t){return e.handleBackspace(t,a-1)}},model:{value:e.ipSegments[a-1],callback:function(t){e.$set(e.ipSegments,a-1,t)},expression:"ipSegments[index - 1]"}})})),1)])],1),t("el-col",{attrs:{span:2}},[t("el-form-item",{attrs:{label:"端口号"}},[t("el-input",{model:{value:e.serverPort,callback:function(t){e.serverPort=t},expression:"serverPort"}})],1)],1)],1),t("el-form-item",{attrs:{label:"日志信息"}},[t("el-input",{attrs:{type:"textarea",rows:4,readonly:""},model:{value:e.logInfo,callback:function(t){e.logInfo=t},expression:"logInfo"}})],1),t("el-row",[t("el-col",{attrs:{span:24}},[t("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.addServer.apply(null,arguments)}}},[e._v("添加")])],1)],1)],1)],1),t("el-dialog",{attrs:{title:"删除服务",visible:e.isDeleteServerDialogVisible},on:{"update:visible":function(t){e.isDeleteServerDialogVisible=t}}},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.serverlistData}},[t("el-table-column",{attrs:{prop:"keyId",label:"ID",width:"180"}}),t("el-table-column",{attrs:{prop:"name",label:"服务器名称"}}),t("el-table-column",{attrs:{prop:"baseUrl",label:"基础URL"}}),t("el-table-column",{attrs:{prop:"state",label:"状态",width:"100"}}),t("el-table-column",{attrs:{prop:"level",label:"等级",width:"100"}}),t("el-table-column",{attrs:{prop:"frequency",label:"频率",width:"100"}}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function({row:a}){return[t("el-popover",{attrs:{placement:"top",width:"160"},model:{value:a.visible,callback:function(t){e.$set(a,"visible",t)},expression:"row.visible"}},[t("p",[e._v("删除仅仅删除数据库的数据，如果沙盒服务没有关闭，那么删除是无法自动删除Docker实例。")]),t("div",{staticStyle:{"text-align":"right",margin:"0"}},[t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){a.visible=!1}}},[e._v("取消")]),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:()=>e.confirmDelete(a.keyId)}},[e._v("确定")])],1),t("el-button",{attrs:{slot:"reference",type:"danger",size:"mini"},slot:"reference"},[e._v("删除")])],1)]}}])})],1)],1),t("el-dialog",{attrs:{title:"添加环境",visible:e.isAddEnvironmentDialogVisible},on:{"update:visible":function(t){e.isAddEnvironmentDialogVisible=t}}},[t(a.LanguageConfig)],1)],1)},c=[],u=a("cee4"),d=function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("el-descriptions",{staticClass:"margin-top",attrs:{column:3,border:""}},[t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-s-platform",staticStyle:{color:"deepskyblue"}}),t("span",{staticStyle:{"font-weight":"bold","font-family":"'Arial Black', 'Arial Bold', Gadget, sans-serif"}},[e._v("服务器地址")])]),t("el-tag",[e._v(e._s(a.systemConfigInfo.baseUrl))])],2),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-s-custom",staticStyle:{color:"deepskyblue"}}),t("span",{staticStyle:{"font-weight":"bold","font-family":"'Arial Black', 'Arial Bold', Gadget, sans-serif"}},[e._v("服务器名称")])]),t("el-tag",[e._v(e._s(a.systemConfigInfo.name))])],2),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{class:a.getStateIcon(a.systemConfigInfo.state),staticStyle:{color:"deepskyblue"}}),t("span",{staticStyle:{"font-weight":"bold","font-family":"'Arial Black', 'Arial Bold', Gadget, sans-serif"}},[e._v("服务器状态")])]),0===a.systemConfigInfo.state?[t("i",{staticClass:"el-icon-error",staticStyle:{color:"red"}}),e._v(" "),t("span",[e._v("(停止)")])]:1===a.systemConfigInfo.state?[t("i",{staticClass:"el-icon-success",staticStyle:{"font-size":"20px",color:"green"}}),e._v(" "),t("span",[e._v("(启动)")])]:[t("i",{staticClass:"el-icon-warning",staticStyle:{color:"orange"}}),e._v(" "),t("span",[e._v("(暂停)")])]],2),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-s-data",staticStyle:{color:"deepskyblue"}}),t("span",{staticStyle:{"font-weight":"bold","font-family":"'Arial Black', 'Arial Bold', Gadget, sans-serif"}},[e._v("服务器等级")])]),t("div",{staticStyle:{display:"flex","align-items":"center"}},[t("el-rate",{attrs:{value:a.serverLevelStars,disabled:"","text-color":"#ff9900"}}),t("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(a.serverLevel)+" 级")])],1)],2),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-s-flag",staticStyle:{color:"deepskyblue"}}),t("span",{staticStyle:{"font-weight":"bold","font-family":"'Arial Black', 'Arial Bold', Gadget, sans-serif"}},[e._v("服务器可用性")])]),t("el-progress",{attrs:{percentage:a.serverAvailability}})],2),t("el-descriptions-item"),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-bangzhu",staticStyle:{color:"deepskyblue"}}),t("span",{staticStyle:{"font-weight":"bold","font-family":"'Arial Black', 'Arial Bold', Gadget, sans-serif"}},[e._v("支持的语言")])]),t("div",{staticClass:"tag-container",staticStyle:{"flex-basis":"100%"}},e._l(a.systemConfigInfo.languageLabelList,(function(a,s){return t("el-tag",{key:s,staticClass:"tag"},[e._v(" "+e._s(a)+" ")])})),1)],2)],1)},p=[],f={__name:"systemInfo",setup(e){const t=Object(s["inject"])("systemConfigData"),a=Object(s["computed"])(()=>t.value.level?t.value.level/2:0),l=Object(s["computed"])(()=>2*a.value),n=e=>{switch(e){case 0:return"el-icon-error";case 1:return"el-icon-success";case 2:return"el-icon-warning";default:return"el-icon-info"}},r=Object(s["computed"])(()=>{const e=t.value.frequency;return e<10?100-e:e>=10&&e<=20?90-2*e:Math.max(70-3*e,0)});return{__sfc:!0,systemConfigInfo:t,serverLevelStars:a,serverLevel:l,getStateIcon:n,serverAvailability:r}}},v=f,m=a("2877"),b=Object(m["a"])(v,d,p,!1,null,null,null),h=b.exports,g=function(){var e=this,t=e._self._c;return t("el-card",{staticClass:"chart-card"},[t("div",{staticClass:"chart-container"},[t("div",{ref:"chart",staticStyle:{height:"400px"},attrs:{id:"cpu-echart"}})])])},y=[],w=a("313e"),S={setup(){const e=Object(s["ref"])(null),t=Object(s["inject"])("serverData");function a(){if(!e.value||!t.value)return;const a=t.value.slice(-1)[0]||{},s=a.cpuTotalUsage?a.cpuTotalUsage.toFixed(2):0,l=a.cpuPhysicalCores||0,n=a.cpuLogicalCores||0,r={tooltip:{trigger:"axis"},title:{text:"CPU利用率（%）",subtext:`当前: ${s}% 物理核心: ${l} 逻辑核心: ${n}`,left:"right"},xAxis:{type:"category",data:t.value.map(e=>e.createTimeFormatted)},yAxis:{name:"%",type:"value"},series:[{name:"CPU使用率",type:"line",areaStyle:{},data:t.value.map(e=>e.cpuTotalUsage),smooth:!0}]};e.value.setOption(r)}return Object(s["onMounted"])(()=>{e.value=w["a"](document.querySelector("#cpu-echart")),a()}),Object(s["onUnmounted"])(()=>{e.value&&e.value.dispose()}),Object(s["watch"])(()=>t.value,e=>{e&&a()},{deep:!0}),{chart:e}}},k=S,_=(a("2ca6"),Object(m["a"])(k,g,y,!1,null,null,null)),D=_.exports,x=function(){var e=this,t=e._self._c;return t("el-card",{staticClass:"chart-card"},[t("div",{staticClass:"chart-container"},[t("div",{staticStyle:{height:"400px"},attrs:{id:"memoryChart"}})])])},C=[],O={setup(){const e=Object(s["inject"])("serverData"),t=Object(s["ref"])(null);function a(){if(!t.value||!e.value||!Array.isArray(e.value))return;const a=l(e.value),s={tooltip:{trigger:"axis",position:function(e){return[e[0],"10%"]}},title:{left:"right",text:"内存使用量（MB）",subtext:a.subTitle},xAxis:{type:"time",boundaryGap:!1},yAxis:{type:"value",boundaryGap:[0,"100%"],max:a.memoryTotalMb,name:"MB"},series:[{name:"Memory Usage (MB)",type:"line",smooth:!0,symbol:"none",areaStyle:{},data:a.chartData}]};t.value.setOption(s)}function l(e){var t;const a=(null===(t=e[0])||void 0===t?void 0:t.memoryTotalMb)||0,s=e[e.length-1]||{},l=s.memoryUsedMb||0,n=(l/a*100).toFixed(2),r=Math.ceil(a);return{chartData:e.map(e=>[e.createTimeFormatted,e.memoryUsedMb]),subTitle:`当前: ${n}% 使用: ${l.toFixed(2)}MB 总共: ${r}MB`,memoryTotalMb:r}}return Object(s["onMounted"])(()=>{t.value=w["a"](document.querySelector("#memoryChart")),a()}),Object(s["watch"])(()=>e.value,e=>{e&&a()},{immediate:!0}),{memoryChart:t}}},I=O,j=(a("2944"),Object(m["a"])(I,x,C,!1,null,null,null)),A=j.exports,B=function(){var e=this,t=e._self._c;return t("el-card",{staticClass:"chart-card"},[t("div",{staticClass:"chart-container"},[t("div",{ref:"chart",staticStyle:{height:"400px"},attrs:{id:"diskIoChart"}})])])},M=[],L={setup(){const e=Object(s["inject"])("serverData"),t=Object(s["ref"])(null);function a(){if(!t.value||!Array.isArray(e.value))return;const a=e.value.map(e=>e.diskReadKbps),s=e.value.map(e=>e.diskWriteKbps),l={title:{text:"系统盘IO（KB/s）",left:"right"},tooltip:{trigger:"axis"},xAxis:{type:"category",boundaryGap:!1,data:e.value.map(e=>e.createTimeFormatted)},yAxis:{name:"KB/s",type:"value"},series:[{name:"磁盘读取KB/s",type:"line",data:a,smooth:!0},{name:"磁盘写入KB/s",type:"line",data:s,smooth:!0}]};t.value.setOption(l)}return Object(s["onMounted"])(()=>{t.value=w["a"](t.value),a()}),Object(s["onUnmounted"])(()=>{t.value&&t.value.dispose()}),Object(s["watch"])(()=>e.value,e=>{e&&a()},{immediate:!0,deep:!0}),{chart:t}}},P=L,E=(a("2eb5"),Object(m["a"])(P,B,M,!1,null,null,null)),$=E.exports,F=function(){var e=this,t=e._self._c;return t("el-card",{staticClass:"chart-card"},[t("div",{staticClass:"chart-container"},[t("div",{staticStyle:{height:"400px"},attrs:{id:"networkIoChart"}})])])},U=[],T={setup(){const e=Object(s["inject"])("serverData"),t=Object(s["ref"])(null);function a(){if(!t.value||!e.value||!Array.isArray(e.value))return;const a=l(e.value),s={title:{text:"网络使用（Mbps）",subtext:`下载: ${a.latestDownload}Mbps 上传: ${a.latestUpload}Mbps`,left:"right"},tooltip:{trigger:"axis"},xAxis:{type:"category",boundaryGap:!1,data:a.downloadData.map(e=>e[0])},yAxis:{name:"Mbps",type:"value"},series:[{name:"下载Mbps",type:"line",data:a.downloadData.map(e=>e[1]),smooth:!0},{name:"上传Mbps",type:"line",data:a.uploadData.map(e=>e[1]),smooth:!0}]};t.value.setOption(s)}function l(e){const t=e[e.length-1]||{},a=e.map(e=>[e.createTimeFormatted,parseFloat(e.networkDownloadMbps.toFixed(2))]),s=e.map(e=>[e.createTimeFormatted,parseFloat(e.networkUploadMbps.toFixed(2))]);return{downloadData:a,uploadData:s,latestDownload:parseFloat((t.networkDownloadMbps||0).toFixed(2)),latestUpload:parseFloat((t.networkUploadMbps||0).toFixed(2))}}return Object(s["onMounted"])(()=>{t.value=w["a"](document.querySelector("#networkIoChart")),a()}),Object(s["watch"])(()=>e.value,e=>{e&&a()},{immediate:!0}),{networkIoChart:t}}},V=T,W=(a("1c0a"),Object(m["a"])(V,F,U,!1,null,null,null)),G=W.exports,J=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("el-card",[t("el-row",[t("el-col",{attrs:{span:12}},[e._v(" 请选择安装的语言: "),t("el-select",{attrs:{placeholder:"Select"},on:{change:e.sendWebSocketRequest},model:{value:e.formData.selectedLanguage,callback:function(t){e.$set(e.formData,"selectedLanguage",t)},expression:"formData.selectedLanguage"}},e._l(e.languageList,(function(e){return t("el-option",{key:e.id,attrs:{label:e.language,value:e.id}})})),1)],1),t("el-col",{staticClass:"right-col",attrs:{span:12}},[t("el-button",{attrs:{type:"primary",disabled:e.isInstallButtonDisabledComputed},on:{click:e.install}},[e._v("安装")])],1)],1),t("div",{staticClass:"spacer"}),e._v(" "),t("el-card",{staticClass:"box-card",staticStyle:{"overflow-y":"auto","max-height":"470px","min-height":"470px"}},[0===e.websocketContentArray.length?t("div",[e._v("没有安装日志信息")]):e._e(),e._l(e.websocketContentArray.slice().reverse(),(function(a){return t("div",{key:a},[t("el-card",[t("el-descriptions",{staticClass:"margin-top",attrs:{column:3,border:""}},[t("el-descriptions-item",{attrs:{label:"时间"}},[e._v(e._s(e.parseJson(a).time))]),t("el-descriptions-item",{attrs:{label:"服务器名称"}},[e._v(e._s(e.parseJson(a).name))]),t("el-descriptions-item",{attrs:{label:"状态"}},[e._v(e._s(e.parseJson(a).state))]),t("el-descriptions-item",{attrs:{label:"消息"}},[e._v(e._s(e.parseJson(a).message))])],1)],1)],1)}))],2)],1)],1)},N=[];a("14d9");const q=window.location.host,z=window.location.protocol,K=z+"//"+q;var R={data(){return{formData:{selectedLanguage:null},languageList:[],websocketContentArray:[],websocket:null,maxContentArrayLength:1e3,isInstallButtonDisabledComputed:!0}},computed:{isInstallButtonDisabledComputed(){return!(this.websocket&&this.websocket.readyState===WebSocket.OPEN&&this.formData.selectedLanguage)}},mounted(){this.fetchData()},methods:{async fetchData(){try{const e=await u["a"].get(K+"/getLanguageInstallConfig");this.languageList=e.data.data}catch(e){console.error("Error fetching data:",e)}},connect(){this.websocket=new WebSocket("ws://"+q+"/installs"),this.websocket.addEventListener("open",()=>{this.isInstallButtonDisabledComputed=!1}),this.websocket.addEventListener("message",e=>{this.websocketContentArray.push(e.data),this.websocketContentArray.length>this.maxContentArrayLength&&this.websocketContentArray.shift()}),this.websocket.addEventListener("close",()=>{console.log("WebSocket closed")}),this.websocket.addEventListener("error",e=>{console.error("WebSocket error:",e)})},async install(){if(this.websocket&&this.websocket.readyState===WebSocket.OPEN)if(this.formData.selectedLanguage){const e={languageId:this.formData.selectedLanguage};this.websocket.send(JSON.stringify(e))}else console.error("Selected language is null.");else console.error("WebSocket is not connected.")},sendWebSocketRequest(){this.connect(),this.isInstallButtonDisabledComputed=!0},parseJson(e){try{return JSON.parse(e)}catch(t){return console.error("Error parsing JSON:",t),null}}}},H=R,Q=(a("2bc7"),Object(m["a"])(H,J,N,!1,null,null,null)),X=Q.exports;const Y=window.location.host,Z=window.location.protocol,ee=Z+"//"+Y,te={data(){return{isAddServerDialogVisible:!1,isAddEnvironmentDialogVisible:!1,isBackupDataDialogVisible:!1,isDeleteServerDialogVisible:!1,serverlistData:[],deleteId:null,ipSegments:["","","",""],serverIP:"",serverPort:"",logInfo:""}},created(){this.fetchData()},methods:{handleIPInput(e){this.ipSegments[e]=this.ipSegments[e].replace(/[^0-9]/g,""),3===this.ipSegments[e].length&&e<3&&this.$refs.ipInputs[e+1].focus()},handleBackspace(e,t){"Backspace"===e.key&&0===this.ipSegments[t].length&&t>0&&this.$refs.ipInputs[t-1].focus()},handlePaste(e){const t=e.clipboardData.getData("text/plain").trim(),a=t.split(".");this.ipSegments=["","","",""];for(let s=0;s<a.length;s++)this.$set(this.ipSegments,s,a[s])},addServer(){const e=this.ipSegments.join("."),t=`${e}:${this.serverPort}`;u["a"].post(ee+"/server_url",{url:t},{timeout:3e3}).then(e=>{const t=(new Date).toLocaleString(),a=e.data;200===a.code?this.logInfo=`${t}: 成功 - ${a.msg}\n`+this.logInfo:this.logInfo=`${t}: 错误 - ${a.msg}\n`+this.logInfo}).catch(e=>{const t=(new Date).toLocaleString();"ECONNABORTED"===e.code?this.logInfo=t+": 请求超时,超过3s未响应请求,网络可能存在问题或服务被阻塞\n"+this.logInfo:this.logInfo=`${t}: 请求错误 - ${e.message}\n`+this.logInfo})},fetchData(){u["a"].get(ee+"/server_url").then(e=>{this.serverlistData=e.data.data.map(e=>({...e,visible:!1}))}).catch(e=>{console.error("Error fetching data:",e)})},confirmDelete(e){u["a"].delete("serviceAddress+'/server_url?sid="+e).then(t=>{200===t.data.code&&(this.serverlistData=this.serverlistData.filter(t=>t.keyId!==e))}).catch(e=>{console.error("Error deleting record:",e)})},showAddServerDialog(){this.isAddServerDialogVisible=!0},showAddEnvironmentDialog(){this.isAddEnvironmentDialogVisible=!0},showBackupDataDialog(){this.isBackupDataDialogVisible=!0},showDeleteServerDialog(){this.fetchData(),this.isDeleteServerDialogVisible=!0}}};var ae=Object.assign(te,{__name:"system-main",setup(e){const t=Object(s["ref"])(null),a=Object(s["ref"])({}),l=Object(s["ref"])({}),n=Object(s["ref"])([]),r=Object(s["ref"])(!1),o=Object(s["ref"])(!0),i=Object(s["ref"])(!0),c=window.location.host,d=window.location.protocol,p=d+"//"+c;function f(){u["a"].get(ee+"/serverInfo").then(e=>{n.value=e.data.data,n.value.length>0&&(t.value=n.value[0].keyId,m(),b())}).catch(e=>{console.error("Error fetching server options:",e)})}function v(){m(),b()}function m(){t.value&&u["a"].get(p+"/systemDeviceInfo",{params:{sid:t.value}}).then(e=>{a.value=e.data.data,r.value=!0}).catch(e=>{console.error("Error fetching data:",e)})}function b(){t.value&&u["a"].get(p+"/systemConfigInfo",{params:{sid:t.value}}).then(e=>{l.value=e.data.data}).catch(e=>{console.error("Error fetching system configuration data:",e)})}function g(){o.value||u["a"].get(p+"/online_server",{params:{sid:t.value}}).then(()=>{window.location.reload()}).catch(e=>{console.error("Error starting the server:",e)})}function y(){i.value||u["a"].get(p+"/offline_server",{params:{sid:t.value}}).then(()=>{window.location.reload()}).catch(e=>{console.error("Error stopping the server:",e)})}return Object(s["provide"])("serverData",a),Object(s["provide"])("systemConfigData",l),Object(s["onMounted"])(()=>{f(),setInterval(m,6e4),setInterval(b,6e4)}),Object(s["watchEffect"])(()=>{o.value=0!==l.value.state,i.value=!(1===l.value.state)}),{__sfc:!0,host:Y,protocol:Z,serviceAddress:ee,selectedServerId:t,serverData:a,systemConfigData:l,serverOptions:n,dataLoaded:r,isStartButtonDisabled:o,isStopButtonDisabled:i,host1:c,protocol1:d,serviceAddress1:p,fetchServerOptions:f,fetchSelect:v,fetchData:m,fetchSystemConfigData:b,handleStartClick:g,handleStopClick:y,systemInfo:h,Cpu:D,Memory:A,Disk:$,Net:G,LanguageConfig:X}}}),se=ae,le=(a("4619"),Object(m["a"])(se,i,c,!1,null,null,null)),ne=le.exports,re={name:"App",components:{HelloWorld:ne}},oe=re,ie=(a("8980"),Object(m["a"])(oe,r,o,!1,null,null,null)),ce=ie.exports;s["default"].use(n.a),new s["default"]({el:"#app",render:e=>e(ce)})},"77b2":function(e,t,a){},8980:function(e,t,a){"use strict";a("25e4")},d0ee:function(e,t,a){},d9ee:function(e,t,a){},e802:function(e,t,a){}});
//# sourceMappingURL=app.056d8a2a.js.map